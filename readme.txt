=============================================================================
1C-Config MCP Server - Portable версия
=============================================================================

  Для ИИ и разработчиков: см. README_AI.md (базы создаются заново, миграций нет).

ОПИСАНИЕ:
  Инструмент для работы с конфигурациями 1С через любой ИИ-ассистент с поддержкой MCP.
  Позволяет анализировать код, искать объекты, изучать структуру.

СОСТАВ:
  - Admin/               - Приложение управления базами
  - Server/              - MCP сервер для подключения к ИИ-клиенту
  - databases/           - Папка с базами данных конфигураций
  - Admin.bat            - Запуск администратора
  - Server.bat           - Запуск сервера (для тестирования)

=============================================================================
БЫСТРЫЙ СТАРТ:
=============================================================================

1. СОЗДАНИЕ БАЗЫ ДАННЫХ

   1.1. Запустите "Admin.bat"
   1.2. Нажмите "Создать новую БД"
   1.3. Введите название (например: "УТ 11.5")
   1.4. Выберите файл Configuration.xml из выгрузки конфигурации
   1.5. Нажмите "Создать" и дождитесь завершения

2. ПОДКЛЮЧЕНИЕ К ИИ-КЛИЕНТУ (MCP)

   2.1. Закройте приложение ИИ с поддержкой MCP (если открыто)
   
   2.2. Откройте файл конфигурации MCP вашего приложения.
        Например, для Claude Desktop: Win+R → %APPDATA%\Claude → claude_desktop_config.json
        Для другого клиента — см. его документацию.
        
   2.3. Добавьте в конфиг MCP-серверов (замените ПУТЬ на реальный):
   
{
  "mcpServers": {
    "1c-config": {
      "command": "ПУТЬ\\1c_config_mcp_server_Portable\\Server\\1c-config-server.exe"
    }
  }
}

   Пример (ВАШ путь будет другой):
   
{
  "mcpServers": {
    "1c-config": {
      "command": "C:\\repo\\1c_config_mcp_server_Portable\\Server\\1c-config-server.exe"
    }
  }
}

   ВАЖНО: Используйте двойные слэши \\ в пути!

   2.4. Сохраните файл
   2.5. Запустите ваше ИИ-приложение

3. ИСПОЛЬЗОВАНИЕ

   В ИИ-клиенте можно задавать вопросы о вашей конфигурации:
   
   - "Покажи список общих модулей"
   - "Найди где используется РегистрыСведений.ФТ_БизнесПроцессы"
   - "Покажи процедуры модуля ФТ_Бюджетирование"
   - "Найди код функции ПараметрыДанныхБюджета"

=============================================================================
ПЕРЕКЛЮЧЕНИЕ МЕЖДУ БАЗАМИ:
=============================================================================

Чтобы использовать другую базу данных:

1. Откройте Server/config.json в блокноте
2. Измените путь в "active_database"
3. Перезапустите ИИ-клиент

Пример config.json:

{
  "active_database": "databases/УТ 11.5.db"
}

=============================================================================
ПОРТАТИВНОСТЬ:
=============================================================================

Эту папку можно:
- Скопировать на другой компьютер
- Запустить с флешки
- Переместить в любое место

После перемещения:
1. Обновите путь к 1c-config-server.exe в конфиге вашего MCP-клиента
2. Перезапустите ИИ-клиент

=============================================================================
ТЕХНИЧЕСКАЯ ПОДДЕРЖКА:
=============================================================================

Если не работает:

1. Проверьте путь к серверу в конфиге MCP вашего приложения:
   - Должен указывать на Server\1c-config-server.exe
   - Используйте двойные слэши: C:\\path\\to\\Server\\1c-config-server.exe

2. Проверьте Server/config.json:
   - База данных должна существовать в databases/
   - Путь должен быть: databases/ИмяБазы.db

3. Полностью перезапустите ИИ-клиент (закройте приложение и запустите снова).

4. Проверьте логи вашего ИИ-приложения (в каждом клиенте — по-своему).

=============================================================================