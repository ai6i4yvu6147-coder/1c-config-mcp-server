# Лог доработок

Все доработки сгруппированы по дню. При внесении изменений в код обновляйте этот файл.

**Правило:** одна доработка (фича, исправление, доработка одной области) — один пункт списка. Если правка дополняет или уточняет уже описанную сегодняшнюю доработку (тот же сценарий, та же часть кода), не добавляйте новый пункт — отредактируйте существующий, расширив описание.

---

## 2025-02-18

- **extension_filter:** в описаниях инструментов (server/server.py) зафиксирована архитектура «точное имя» — параметр должен совпадать с именем базы из list_active_databases; в описание list_active_databases добавлена рекомендация вызывать его первым и передавать имена без изменений.
- **Парсер, формат 2.20:** в _parse_register_section добавлен fallback на ChildObjects при отсутствии контейнеров Dimensions/Resources — измерения и ресурсы регистров извлекаются из дочерних элементов Dimension/Resource (выгрузки 2.20 и расширения).
- **Парсер, типы регистров:** добавлены AccountingRegister и CalculationRegister (object_types, register_types, standard_by_type).
- **Парсер, составные типы:** в _extract_attribute_type добавлена поддержка v8:TypeSet — тип заполняется для реквизитов с составным типом (множество типов).
- **Парсер, планы:** добавлены ChartOfAccounts (план счетов) и ChartOfCharacteristicTypes (план видов характеристик) в object_types — объекты парсятся и попадают в БД.
- **README_AI:** добавлен раздел «Цикл проверки изменений» (тестирование на реальном MCP после пересборки пользователем).
- **Имя и тип конфигурации из XML (GUI):** при выборе Configuration.xml название базы и признак «Основная конфигурация»/«Расширение» берутся из файла, а не из имени папки. Имя — из Properties/Name (get_configuration_name с поиском через ns, как в parse()); тип — по наличию ConfigurationExtensionPurpose (get_configuration_type()). Поле «Название» при выборе файла всегда перезаполняется из XML.
